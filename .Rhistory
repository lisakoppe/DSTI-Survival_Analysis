ifelse(Location == 1, "Central", "Peripheral")),
Necrosis = ifelse(Necrosis == 0, "NoRemark",
ifelse(Necrosis == 1, "Necrosis", "Cavitization")),
Underlying_lung = ifelse(Underlying_lung == 0, "NoRemark",
ifelse(Underlying_lung == 1, "Emphysema", "ILA")))
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Invisible",
ifelse(Location==1, "Central", "Peripheral")),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")))
with(lungSCC, fisher.test(table(death, meta)))
fit <- glm(death~LN_ratio, family="binomial", data=lungSCC)
library(tidyverse)
lungSCC_raw<- read_csv("LungCancer.csv",
col_types = cols(Location="d", Obst_pn_or_plugging = "d", Necrosis = "d", Underlying_lung = "d", Effusion = "d", death = "d", OS = "d", .default = "c"))
table(lungSCC_raw$Location, useNA = "always")
table(lungSCC_raw$Obst_pn_or_plugging, useNA = "always")
table(lungSCC_raw$Necrosis, useNA = "always")
table(lungSCC_raw$Underlying_lung, useNA = "always")
table(lungSCC_raw$Effusion, useNA = "always")
table(lungSCC_raw$death, useNA = "always")
sum(is.na(lungSCC_raw$death))
lungSCC <- mutate(data_raw,
Location = ifelse(Location == 0, "Invisible",
ifelse(Location == 1, "Central", "Peripheral")),
Necrosis = ifelse(Necrosis == 0, "NoRemark",
ifelse(Necrosis == 1, "Necrosis", "Cavitization")),
Underlying_lung = ifelse(Underlying_lung == 0, "NoRemark",
ifelse(Underlying_lung == 1, "Emphysema", "ILA")))
lungSCC <- mutate(lungSCC_raw,
Location = ifelse(Location == 0, "Invisible",
ifelse(Location == 1, "Central", "Peripheral")),
Necrosis = ifelse(Necrosis == 0, "NoRemark",
ifelse(Necrosis == 1, "Necrosis", "Cavitization")),
Underlying_lung = ifelse(Underlying_lung == 0, "NoRemark",
ifelse(Underlying_lung == 1, "Emphysema", "ILA")))
with(lungSCC, fisher.test(table(death, Obst_pn_or_plugging)))
with(lungSCC, fisher.test(table(death, Effusion)))
fit <- glm(death ~ Location, family = "binomial", data = lungSCC)
summary(fit)
fit <- glm(death~Location, family="binomial", data=lungSCC)
summary(fit)
# CAREFUL: NEED TO REVIEW DATA TYPES (ESPECIALLY LOGICAL)
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Index='c',
Sex='c',
Age='d',
Location='d',
Obst_pn_or_plugging='d',
CT_value_Mean='d',
CT_value_Std_Dev='d',
CT_value_P_major='d',
CT_V_ratio='d',
CT_Kernel='c',
Necrosis='c',
Underlying_lung='c',
Multiplicity='l',
Effusion='l',
Bronchoscopy='c',
Differentiation='c',
pos_LN='c',
total_LN='d',
LN_ratio='d',
cT='c',
cN='c',
cM='c',
pT='c',
pN='c',
pM='c',
Smoking_state='c',
PY='d',
Cessation_time='d',
FVCpercentPRED='d',
FEV1percentPRED='d',
FEV1_FVC='d',
CEA='d',
post_opCTx='l',
post_op_RTx='l',
op_type='c',
death='c',
recur_or_meta='l',
OP_site_recur='l',
meta='l',
meta_site='c',
OS='d',
DFS='d',
.default = 'c'))
table(lungSCC_raw$Location, useNA="always")
table(lungSCC_raw$death, useNA="always")
sum(is.na(lungSCC_raw$death))
# Radiologic features
table(lungSCC_raw$Obst_pn_or_plugging, useNA="always")
table(lungSCC_raw$Necrosis, useNA="always")
table(lungSCC_raw$Underlying_lung, useNA="always")
table(lungSCC_raw$Effusion, useNA="always")
# Clinicopathologic features
table(lungSCC_raw$Sex, useNA="always")
table(lungSCC_raw$Age, useNA="always")
table(lungSCC_raw$LN_ratio, useNA="always")
table(lungSCC_raw$cT, useNA="always")
table(lungSCC_raw$cN, useNA="always")
table(lungSCC_raw$cM, useNA="always")
table(lungSCC_raw$pT, useNA="always")
table(lungSCC_raw$pN, useNA="always")
table(lungSCC_raw$pM, useNA="always")
table(lungSCC_raw$Smoking_state, useNA="always")
table(lungSCC_raw$FEV1_FVC, useNA="always")
table(lungSCC_raw$CEA, useNA="always")
table(lungSCC_raw$op_type, useNA="always")
table(lungSCC_raw$meta, useNA="always")
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Invisible",
ifelse(Location==1, "Central", "Peripheral")),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")))
fit <- glm(death~Location, family="binomial", data=lungSCC)
# CAREFUL: NEED TO REVIEW DATA TYPES (ESPECIALLY LOGICAL)
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Index='c',
Sex='c',
Age='d',
Location='d',
Obst_pn_or_plugging='d',
CT_value_Mean='d',
CT_value_Std_Dev='d',
CT_value_P_major='d',
CT_V_ratio='d',
CT_Kernel='c',
Necrosis='c',
Underlying_lung='c',
Multiplicity='l',
Effusion='l',
Bronchoscopy='c',
Differentiation='c',
pos_LN='c',
total_LN='d',
LN_ratio='d',
cT='c',
cN='c',
cM='c',
pT='c',
pN='c',
pM='c',
Smoking_state='c',
PY='d',
Cessation_time='d',
FVCpercentPRED='d',
FEV1percentPRED='d',
FEV1_FVC='d',
CEA='d',
post_opCTx='l',
post_op_RTx='l',
op_type='c',
death='d',
recur_or_meta='l',
OP_site_recur='l',
meta='l',
meta_site='c',
OS='d',
DFS='d',
.default = 'c'))
fit <- glm(death~Location, family="binomial", data=lungSCC)
table(lungSCC_raw$Location, useNA="always")
table(lungSCC_raw$death, useNA="always")
sum(is.na(lungSCC_raw$death))
# Radiologic features
table(lungSCC_raw$Obst_pn_or_plugging, useNA="always")
table(lungSCC_raw$Necrosis, useNA="always")
table(lungSCC_raw$Underlying_lung, useNA="always")
table(lungSCC_raw$Effusion, useNA="always")
# Clinicopathologic features
table(lungSCC_raw$Sex, useNA="always")
table(lungSCC_raw$Age, useNA="always")
table(lungSCC_raw$LN_ratio, useNA="always")
table(lungSCC_raw$cT, useNA="always")
table(lungSCC_raw$cN, useNA="always")
table(lungSCC_raw$cM, useNA="always")
table(lungSCC_raw$pT, useNA="always")
table(lungSCC_raw$pN, useNA="always")
table(lungSCC_raw$pM, useNA="always")
table(lungSCC_raw$Smoking_state, useNA="always")
table(lungSCC_raw$FEV1_FVC, useNA="always")
table(lungSCC_raw$CEA, useNA="always")
table(lungSCC_raw$op_type, useNA="always")
table(lungSCC_raw$meta, useNA="always")
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Invisible",
ifelse(Location==1, "Central", "Peripheral")),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")))
fit <- glm(death~Location, family="binomial", data=lungSCC)
summary(fit)
exp(-0.3203)
exp(0.2749)
fit <- glm(death~Necrosis, family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~Underlying_lung, family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~LN_ratio, family="binomial", data=lungSCC)
summary(fit)
exp(1.3897)
fit <- glm(death~pT, family="binomial", data=lungSCC)
summary(fit)
fit <- lm(death~pT, family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~pT, family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~pN, family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~pM, family="binomial", data=lungSCC)
summary(fit)
exp(15.8683)
fit <- glm(death~FEV1_FVC, family="binomial", data=lungSCC)
summary(fit)
exp(0.011102)
fit <- glm(death~CEA, family="binomial", data=lungSCC)
summary(fit)
exp(-0.003048)
exp(0.5069)
fit <- glm(death~pN, family="binomial", data=lungSCC)
summary(fit)
plot(fit)
fit <- glm(death~pN, family="binomial", data=lungSCC)
summary(fit)
d_raw <- read_csv("covid19.csv",
col_types = cols(id = 'c', case_in = 'c', age = 'd', if_onset_approximated = 'l',
international_traveler = 'l', domestic_traveler = 'l', traveler = 'l',
`visiting Wuhan` = 'l', `from Wuhan` = 'l',
.default = 'c'
))
# REMOVE UNUSED LIBRARIES AT THE END
library(tidyverse)
library(survival)
library(ggplot2)
library(dplyr)
library(tidyr)
# CAREFUL: NEED TO REVIEW DATA TYPES (ESPECIALLY LOGICAL)
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Index='c',
Sex='c',
Age='d',
Location='d',
Obst_pn_or_plugging='d',
CT_value_Mean='d',
CT_value_Std_Dev='d',
CT_value_P_major='d',
CT_V_ratio='d',
CT_Kernel='c',
Necrosis='c',
Underlying_lung='c',
Multiplicity='l',
Effusion='l',
Bronchoscopy='c',
Differentiation='c',
pos_LN='c',
total_LN='d',
LN_ratio='d',
cT='c',
cN='c',
cM='c',
pT='c',
pN='c',
pM='c',
Smoking_state='c',
PY='d',
Cessation_time='d',
FVCpercentPRED='d',
FEV1percentPRED='d',
FEV1_FVC='d',
CEA='d',
post_opCTx='l',
post_op_RTx='l',
op_type='c',
death='d',
recur_or_meta='l',
OP_site_recur='l',
meta='l',
meta_site='c',
OS='d',
DFS='d',
.default = 'c'))
table(lungSCC_raw$Location, useNA="always")
table(lungSCC_raw$death, useNA="always")
sum(is.na(lungSCC_raw$death))
# Radiologic features
table(lungSCC_raw$Obst_pn_or_plugging, useNA="always")
table(lungSCC_raw$Necrosis, useNA="always")
table(lungSCC_raw$Underlying_lung, useNA="always")
table(lungSCC_raw$Effusion, useNA="always")
# Clinicopathologic features
table(lungSCC_raw$Sex, useNA="always")
table(lungSCC_raw$Age, useNA="always")
table(lungSCC_raw$LN_ratio, useNA="always")
table(lungSCC_raw$cT, useNA="always")
table(lungSCC_raw$cN, useNA="always")
table(lungSCC_raw$cM, useNA="always")
table(lungSCC_raw$pT, useNA="always")
table(lungSCC_raw$pN, useNA="always")
table(lungSCC_raw$pM, useNA="always")
table(lungSCC_raw$Smoking_state, useNA="always")
table(lungSCC_raw$FEV1_FVC, useNA="always")
table(lungSCC_raw$CEA, useNA="always")
table(lungSCC_raw$op_type, useNA="always")
table(lungSCC_raw$meta, useNA="always")
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Invisible",
ifelse(Location==1, "Central", "Peripheral")),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")))
with(lungSCC, fisher.test(table(death, Obst_pn_or_plugging)))
with(lungSCC, fisher.test(table(death, meta)))
fit <- glm(death~Location, family="binomial", data=lungSCC)
summary(fit)
with(lungSCC, fisher.test(table(death, Effusion)))
with(lungSCC, fisher.test(table(death, Obst_pn_or_plugging)))
with(lungSCC, table(death, meta))
# CAREFUL: NEED TO REVIEW DATA TYPES (ESPECIALLY LOGICAL)
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Index='c',
Sex='c',
Age='d',
Location='d',
Obst_pn_or_plugging='d',
CT_value_Mean='d',
CT_value_Std_Dev='d',
CT_value_P_major='d',
CT_V_ratio='d',
CT_Kernel='c',
Necrosis='c',
Underlying_lung='c',
Multiplicity='l',
Effusion='l',
Bronchoscopy='c',
Differentiation='c',
pos_LN='c',
total_LN='d',
LN_ratio='d',
cT='c',
cN='c',
cM='c',
pT='c',
pN='c',
pM='c',
Smoking_state='c',
PY='d',
Cessation_time='d',
FVCpercentPRED='d',
FEV1percentPRED='d',
FEV1_FVC='d',
CEA='d',
post_opCTx='l',
post_op_RTx='l',
op_type='c',
death='d',
recur_or_meta='l',
OP_site_recur='l',
meta='c',
meta_site='c',
OS='d',
DFS='d',
.default = 'c'))
table(lungSCC_raw$Location, useNA="always")
table(lungSCC_raw$death, useNA="always")
sum(is.na(lungSCC_raw$death))
# Radiologic features
table(lungSCC_raw$Obst_pn_or_plugging, useNA="always")
table(lungSCC_raw$Necrosis, useNA="always")
table(lungSCC_raw$Underlying_lung, useNA="always")
table(lungSCC_raw$Effusion, useNA="always")
# Clinicopathologic features
table(lungSCC_raw$Sex, useNA="always")
table(lungSCC_raw$Age, useNA="always")
table(lungSCC_raw$LN_ratio, useNA="always")
table(lungSCC_raw$cT, useNA="always")
table(lungSCC_raw$cN, useNA="always")
table(lungSCC_raw$cM, useNA="always")
table(lungSCC_raw$pT, useNA="always")
table(lungSCC_raw$pN, useNA="always")
table(lungSCC_raw$pM, useNA="always")
table(lungSCC_raw$Smoking_state, useNA="always")
table(lungSCC_raw$FEV1_FVC, useNA="always")
table(lungSCC_raw$CEA, useNA="always")
table(lungSCC_raw$op_type, useNA="always")
table(lungSCC_raw$meta, useNA="always")
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Invisible",
ifelse(Location==1, "Central", "Peripheral")),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")))
with(lungSCC, table(death, meta))
# CAREFUL: NEED TO REVIEW DATA TYPES (ESPECIALLY LOGICAL)
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Index='c',
Sex='c',
Age='d',
Location='d',
Obst_pn_or_plugging='d',
CT_value_Mean='d',
CT_value_Std_Dev='d',
CT_value_P_major='d',
CT_V_ratio='d',
CT_Kernel='c',
Necrosis='c',
Underlying_lung='c',
Multiplicity='l',
Effusion='l',
Bronchoscopy='c',
Differentiation='c',
pos_LN='c',
total_LN='d',
LN_ratio='d',
cT='c',
cN='c',
cM='c',
pT='c',
pN='c',
pM='c',
Smoking_state='c',
PY='d',
Cessation_time='d',
FVCpercentPRED='d',
FEV1percentPRED='d',
FEV1_FVC='d',
CEA='d',
post_opCTx='l',
post_op_RTx='l',
op_type='c',
death='d',
recur_or_meta='l',
OP_site_recur='l',
meta='l',
meta_site='c',
OS='d',
DFS='d',
.default = 'c'))
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Invisible",
ifelse(Location==1, "Central", "Peripheral")),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")))
with(lungSCC, round(100 * prop.table(table(death, meta), 2), 1))
with(lungSCC, chisq.test(table(death, meta)))
with(lungSCC, table(death, meta))
with(lungSCC, fisher.test(table(death, meta)))
fit <- glm(death~Necrosis, family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~LN_ratio, family="binomial", data=lungSCC)
summary(fit)
with(lungSCC, table(death, LN_ratio))
fit <- glm(death~I(LN_ratio/50), family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~I(LN_ratio/10), family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~I(LN_ratio/2), family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~I(LN_ratio/10), family="binomial", data=lungSCC)
summary(fit)
exp(13.8970)
# TO PRECISE
fit <- glm(death~I(LN_ratio/10), family="binomial", data=lungSCC)
summary(fit)
# TO PRECISE
fit <- glm(death~I(LN_ratio/4), family="binomial", data=lungSCC)
summary(fit)
exp(5.5588)
# TO PRECISE
fit <- glm(death~I(LN_ratio/4), family="binomial", data=lungSCC)
summary(fit)
with(lungSCC, table(death, pT))
fit <- glm(death~pT, family="binomial", data=lungSCC)
summary(fit)
with(lungSCC, table(death, LN_ratio))
fit <- glm(death~LN_ratio, family="binomial", data=lungSCC)
summary(fit)
exp(0.4321)
exp(0.9573)
exp(1.2622)
with(lungSCC, table(death, pN))
fit <- glm(death~pN, family="binomial", data=lungSCC)
summary(fit)
exp(0.2270)
exp(1.1673)
exp(1.6010)
with(lungSCC, table(death, pM))
fit <- glm(death~pM, family="binomial", data=lungSCC)
summary(fit)
with(lungSCC, table(death, FEV1_FVC))
fit <- glm(death~FEV1_FVC, family="binomial", data=lungSCC)
summary(fit)
with(lungSCC, table(death, CEA))
fit <- glm(death~CEA, family="binomial", data=lungSCC)
summary(fit)
with(lungSCC, table(death, meta))
with(lungSCC, fisher.test(table(death, meta)))
