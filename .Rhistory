death=ifelse(death==0, "Alive","Dead"),
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")))
with(lungSCC, table(death, LN_ratio))
fit <- glm(death~LN_ratio, family="binomial", data=lungSCC)
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")),
pN=ifelse(pN==1, "pN0", "pN1", "pN2", "pN3"))
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")),
pN = factor(pN, levels = c("1", "2", "3", "4"), labels = c("pN0", "pN1", "pN2", "pN3")))
with(lungSCC, table(death, LN_ratio))
fit <- glm(death~LN_ratio, family="binomial", data=lungSCC)
summary(fit)
with(lungSCC, table(death, pN))
fit <- glm(death~pN, family="binomial", data=lungSCC)
summary(fit)
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")),
cN = factor(cN, levels = c("1", "2", "3", "4"), labels = c("cN0", "cN1", "cN2", "cN3")),
cM = factor(cM, levels = c("1", "3"), labels = c("cM0", "cM1b")),
pN = factor(pN, levels = c("1", "2", "3", "4"), labels = c("pN0", "pN1", "pN2", "pN3")),
pM = factor(pM, levels = c("1", "3"), labels = c("pM0", "pM1b")))
with(lungSCC, table(death, pN))
fit <- glm(death~pN, family="binomial", data=lungSCC)
summary(fit)
# TO BE COMPLETED
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")),
cT = factor(cT, levels = c("1", "2", "3", "4"), labels = c("cT1", "cT2", "cT3", "cT4")),
cN = factor(cN, levels = c("1", "2", "3", "4"), labels = c("cN0", "cN1", "cN2", "cN3")),
cM = factor(cM, levels = c("1", "3"), labels = c("cM0", "cM1b")),
pT = factor(pT, levels = c("1", "2", "3", "4"), labels = c("pT1", "pT2", "pT3", "pT4")),
pN = factor(pN, levels = c("1", "2", "3", "4"), labels = c("pN0", "pN1", "pN2", "pN3")),
pM = factor(pM, levels = c("1", "3"), labels = c("pM0", "pM1b")))
fit_meta <- coxph(Surv(OS, death)~meta, data=lungSCC)
library(tidyverse)
library(survival)
library(survminer)
# Note: Check only data type of columns that we want to work with since we have set the default for the remaining as c already
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Sex='c',
Age='c',
Location='d',
Obst_pn_or_plugging='d',
Necrosis='d',
Underlying_lung='d',
Effusion='d',
LN_ratio='d',
cT='c',
cN='c',
cM='c',
pT='c',
pN='c',
pM='c',
Smoking_state='c',
FEV1_FVC='d',
CEA='d',
op_type='c',
death='d',
OP_site_recur='l',
meta='l',
OS = "d",
.default = 'c'))
table(lungSCC_raw$Location, useNA="always")
table(lungSCC_raw$death, useNA="always")
# Radiologic features
table(lungSCC_raw$Obst_pn_or_plugging, useNA="always")
table(lungSCC_raw$Necrosis, useNA="always")
table(lungSCC_raw$Underlying_lung, useNA="always")
table(lungSCC_raw$Effusion, useNA="always")
# Clinicopathologic features
table(lungSCC_raw$Sex, useNA="always")
table(lungSCC_raw$Age, useNA="always")
table(lungSCC_raw$LN_ratio, useNA="always")
table(lungSCC_raw$cT, useNA="always")
table(lungSCC_raw$cN, useNA="always")
table(lungSCC_raw$cM, useNA="always")
table(lungSCC_raw$pT, useNA="always")
table(lungSCC_raw$pN, useNA="always")
table(lungSCC_raw$pM, useNA="always")
table(lungSCC_raw$Smoking_state, useNA="always")
table(lungSCC_raw$FEV1_FVC, useNA="always")
table(lungSCC_raw$CEA, useNA="always")
table(lungSCC_raw$op_type, useNA="always")
table(lungSCC_raw$meta, useNA="always")
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")),
Sex=factor(Sex, levels=c("F", "M")),
AG=ifelse((Age<60), "LT60", "OV60"),
AG=factor(AG),
OP=factor(op_type, labels=c("lobectomy", "pneumonectomy", "segmentectomy", "LN biopsy", "No OP")),
Smoking_state=factor(Smoking_state, labels=c("unknown", "current-smoker", "ex- smoker", "non- smoker")),
cT=factor(cT, levels=c("1", "2", "3", "4"), labels=c("cT1", "cT2", "cT3", "cT4")),
cN=factor(cN, levels=c("1", "2", "3", "4"), labels=c("cN0", "cN1", "cN2", "cN3")),
cM=factor(cM, levels=c("1", "3"), labels=c("cM0", "cM1b")),
pT=factor(pT, levels=c("1", "2", "3", "4"), labels=c("pT1", "pT2", "pT3", "pT4")),
pN=factor(pN, levels=c("1", "2", "3", "4"), labels=c("pN0", "pN1", "pN2", "pN3")),
pM=factor(pM, levels=c("1", "3"), labels=c("pM0", "pM1b")))
table(lungSCC$AG)
with(lungSCC, table(death, LN_ratio))
fit <- glm(death~LN_ratio, family="binomial", data=lungSCC)
summary(fit)
exp(confint(glm(death~LN_ratio, family="binomial", data=lungSCC))[2,])
exp(1.38)
library(tidyverse)
library(survival)
library(survminer)
# Note: Check only data type of columns that we want to work with since we have set the default for the remaining as c already
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Sex='c',
Age='d',
Location='d',
Obst_pn_or_plugging='d',
Necrosis='d',
Underlying_lung='d',
Effusion='d',
LN_ratio='d',
cT='d',
cN='d',
cM='d',
pT='d',
pN='d',
pM='d',
Smoking_state='d',
FEV1_FVC='d',
CEA='d',
op_type='d',
death='d',
meta='d',
OS = "d",
.default = 'c'))
table(lungSCC_raw$Location, useNA="always")
table(lungSCC_raw$death, useNA="always")
# Radiologic features
table(lungSCC_raw$Obst_pn_or_plugging, useNA="always")
table(lungSCC_raw$Necrosis, useNA="always")
table(lungSCC_raw$Underlying_lung, useNA="always")
table(lungSCC_raw$Effusion, useNA="always")
# Clinicopathologic features
table(lungSCC_raw$Sex, useNA="always")
table(lungSCC_raw$Age, useNA="always")
table(lungSCC_raw$LN_ratio, useNA="always")
table(lungSCC_raw$cT, useNA="always")
table(lungSCC_raw$cN, useNA="always")
table(lungSCC_raw$cM, useNA="always")
table(lungSCC_raw$pT, useNA="always")
table(lungSCC_raw$pN, useNA="always")
table(lungSCC_raw$pM, useNA="always")
table(lungSCC_raw$Smoking_state, useNA="always")
table(lungSCC_raw$FEV1_FVC, useNA="always")
table(lungSCC_raw$CEA, useNA="always")
table(lungSCC_raw$op_type, useNA="always")
table(lungSCC_raw$meta, useNA="always")
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")),
Sex=factor(Sex, levels=c("F", "M")),
AG=ifelse((Age<60), "LT60", "OV60"),
AG=factor(AG),
OP=factor(op_type, labels=c("lobectomy", "pneumonectomy", "segmentectomy", "LN biopsy", "No OP")),
Smoking_state=factor(Smoking_state, labels=c("unknown", "current-smoker", "ex- smoker", "non- smoker")),
cT=factor(cT, levels=c("1", "2", "3", "4"), labels=c("cT1", "cT2", "cT3", "cT4")),
cN=factor(cN, levels=c("1", "2", "3", "4"), labels=c("cN0", "cN1", "cN2", "cN3")),
cM=factor(cM, levels=c("1", "3"), labels=c("cM0", "cM1b")),
pT=factor(pT, levels=c("1", "2", "3", "4"), labels=c("pT1", "pT2", "pT3", "pT4")),
pN=factor(pN, levels=c("1", "2", "3", "4"), labels=c("pN0", "pN1", "pN2", "pN3")),
pM=factor(pM, levels=c("1", "3"), labels=c("pM0", "pM1b")))
fit_effusion <- coxph(Surv(OS, death)~Effusion, data=lungSCC)
summary(fit_effusion)
library(tidyverse)
library(survival)
library(survminer)
# Note: Check only data type of columns that we want to work with since we have set the default for the remaining as c already
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Sex='c',
Age='d',
Location='d',
Obst_pn_or_plugging='d',
Necrosis='d',
Underlying_lung='d',
Effusion='d',
LN_ratio='d',
cT='d',
cN='d',
cM='d',
pT='d',
pN='d',
pM='d',
Smoking_state='d',
FEV1_FVC='d',
CEA='d',
op_type='d',
death='d',
meta='d',
OS = "d",
.default = 'c'))
table(lungSCC_raw$Location, useNA="always")
table(lungSCC_raw$death, useNA="always")
# Radiologic features
table(lungSCC_raw$Obst_pn_or_plugging, useNA="always")
table(lungSCC_raw$Necrosis, useNA="always")
table(lungSCC_raw$Underlying_lung, useNA="always")
table(lungSCC_raw$Effusion, useNA="always")
# Clinicopathologic features
table(lungSCC_raw$Sex, useNA="always")
table(lungSCC_raw$Age, useNA="always")
table(lungSCC_raw$LN_ratio, useNA="always")
table(lungSCC_raw$cT, useNA="always")
table(lungSCC_raw$cN, useNA="always")
table(lungSCC_raw$cM, useNA="always")
table(lungSCC_raw$pT, useNA="always")
table(lungSCC_raw$pN, useNA="always")
table(lungSCC_raw$pM, useNA="always")
table(lungSCC_raw$Smoking_state, useNA="always")
table(lungSCC_raw$FEV1_FVC, useNA="always")
table(lungSCC_raw$CEA, useNA="always")
table(lungSCC_raw$op_type, useNA="always")
table(lungSCC_raw$meta, useNA="always")
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")),
Effusion=factor(Effusion, levels=c("0", "1"), labels=c("Absent", "Present")),
Sex=factor(Sex, levels=c("F", "M")),
AG=ifelse((Age<60), "LT60", "OV60"),
AG=factor(AG),
OP=factor(op_type, labels=c("lobectomy", "pneumonectomy", "segmentectomy", "LN biopsy", "No OP")),
Smoking_state=factor(Smoking_state, labels=c("unknown", "current-smoker", "ex- smoker", "non- smoker")),
cT=factor(cT, levels=c("1", "2", "3", "4"), labels=c("cT1", "cT2", "cT3", "cT4")),
cN=factor(cN, levels=c("1", "2", "3", "4"), labels=c("cN0", "cN1", "cN2", "cN3")),
cM=factor(cM, levels=c("1", "3"), labels=c("cM0", "cM1b")),
pT=factor(pT, levels=c("1", "2", "3", "4"), labels=c("pT1", "pT2", "pT3", "pT4")),
pN=factor(pN, levels=c("1", "2", "3", "4"), labels=c("pN0", "pN1", "pN2", "pN3")),
pM=factor(pM, levels=c("1", "3"), labels=c("pM0", "pM1b")))
with(lungSCC, fisher.test(table(death, Effusion)))
fit <- glm(death~Effusion, family="binomial", data=lungSCC)
summary(fit)
fit_effusion <- coxph(Surv(OS, death)~Effusion, data=lungSCC)
summary(fit_effusion)
fit_effusion <- coxph(Surv(OS, death)~Effusion, data=lungSCC)
summary(fit_effusion)
fit_UndLung <- coxph(Surv(OS, death)~Underlying_lung, data=lungSCC)
summary(fit_UndLung)
fit_LNratio <- coxph(Surv(OS, death)~LN_ratio, data=lungSCC)
library(tidyverse)
library(survival)
library(survminer)
# Check data types only columns we want to work with
# Set default as c for the rest
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Sex='c',
Age='d',
Location='d',
Obst_pn_or_plugging='d',
Necrosis='d',
Underlying_lung='d',
Effusion='d',
LN_ratio='d',
cT='d',
cN='d',
cM='d',
pT='d',
pN='d',
pM='d',
Smoking_state='d',
FEV1_FVC='d',
CEA='d',
op_type='d',
death='d',
meta='d',
OS = "d",
.default = 'c'))
dim(lungSCC_raw)  # Check total patients + columns
# Radiologic features
table(lungSCC_raw$Location, useNA="always")
table(lungSCC_raw$Obst_pn_or_plugging, useNA="always")
table(lungSCC_raw$Necrosis, useNA="always")
table(lungSCC_raw$Underlying_lung, useNA="always")
table(lungSCC_raw$Effusion, useNA="always")
# Clinicopathologic features
table(lungSCC_raw$Sex, useNA="always")
table(lungSCC_raw$Age, useNA="always")
summary(lungSCC_raw$Age)
table(lungSCC_raw$LN_ratio, useNA="always")
summary(lungSCC_raw$LN_ratio)
table(lungSCC_raw$cT, useNA="always")
table(lungSCC_raw$cN, useNA="always")
table(lungSCC_raw$cM, useNA="always")
table(lungSCC_raw$pT, useNA="always")
table(lungSCC_raw$pN, useNA="always")
table(lungSCC_raw$pM, useNA="always")
table(lungSCC_raw$Smoking_state, useNA="always")
table(lungSCC_raw$FEV1_FVC, useNA="always")
summary(lungSCC_raw$FEV1_FVC)
table(lungSCC_raw$CEA)
summary(lungSCC_raw$CEA)
table(lungSCC_raw$op_type, useNA="always")
table(lungSCC_raw$death, useNA="always")
table(lungSCC_raw$meta, useNA="always")
table(lungSCC_raw$OS, useNA="always")
summary(lungSCC_raw$OS)
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")),
Effusion=factor(Effusion, levels=c("0", "1"), labels=c("Absent", "Present")),
AG=ifelse((Age<60), "LT60", "OV60"),
AG = factor(AG),
OP = factor(op_type,labels = c("lobectomy","pneumonectomy","segmentectomy","LN biopsy","No OP")),
Smoking_state = factor(Smoking_state,labels = c("unknown","current-smoker","ex- smoker", "non- smoker")),
cT = factor(cT, levels = c("1", "2", "3", "4"), labels = c("cT1", "cT2", "cT3", "cT4")),
cN = factor(cN, levels = c("1", "2", "3", "4"), labels = c("cN0", "cN1", "cN2", "cN3")),
cM = factor(cM, levels = c("1", "3"), labels = c("cM0", "cM1b")),
pT = factor(pT, levels = c("1", "2", "3", "4"), labels = c("pT1", "pT2", "pT3", "pT4")),
pN = factor(pN, levels = c("1", "2", "3", "4"), labels = c("pN0", "pN1", "pN2", "pN3")),
pM = factor(pM, levels = c("1", "3"), labels = c("pM0", "pM1b")))
fit_LNratio <- coxph(Surv(OS, death)~LN_ratio, data=lungSCC)
summary(fit_LNratio)
with(lungSCC, table(death, LN_ratio))
fit <- glm(death~LN_ratio, family="binomial", data=lungSCC)
summary(fit)
exp(confint(glm(death~LN_ratio, family="binomial", data=lungSCC))[2,])
fit_UndLung <- coxph(Surv(OS, death)~Underlying_lung, data=lungSCC)
summary(fit_UndLung)
with(lungSCC, table(death, Underlying_lung))
fit <- glm(death~Underlying_lung, family="binomial", data=lungSCC)
summary(fit)
fit <- glm(death~Underlying_lung, family="binomial", data=lungSCC)
summary(fit)
fit_pT <- coxph(Surv(OS, death)~pT, data=lungSCC)
summary(fit_pT)
fit_FEV1FVC <- coxph(Surv(OS, death)~FEV1_FVC, data=lungSCC)
summary(fit_FEV1FVC)
with(lungSCC, table(death, FEV1_FVC))
fit <- glm(death~FEV1_FVC, family="binomial", data=lungSCC)
summary(fit)
exp(confint(glm(death~FEV1_FVC, family="binomial", data=lungSCC))[2,])
fit_CEA <- coxph(Surv(OS, death)~CEA, data=lungSCC)
summary(fit_CEA)
fit_meta <- coxph(Surv(OS, death)~meta, data=lungSCC)
summary(fit_meta)
lungSCC_fullmodel <- coxph(Surv(OS, death) ~ Location + Obst_pn_or_plugging + Necrosis + Underlying_lung + Effusion + Sex + AG + LN_ratio + cT+ cN + cM + pT+ pN+ pM + Smoking_state + FEV1_FVC + CEA + meta , data = lungSCC)
lungSCC_multiCox <- step(lungSCC_fullmodel)
with(lungSCC, table(death, pM))
fit <- glm(death~pM, family="binomial", data=lungSCC)
summary(fit)
exp(confint(glm(death~pM, family="binomial", data=lungSCC))[2,])
with(lungSCC, table(death, pN))
fit <- glm(death~pN, family="binomial", data=lungSCC)
summary(fit)
exp(confint(glm(death~pN, family="binomial", data=lungSCC))[2,])
with(lungSCC, table(death, pT))
fit <- glm(death~pT, family="binomial", data=lungSCC)
summary(fit)
exp(confint(glm(death~pT, family="binomial", data=lungSCC))[2,])
fit.KM_under <- survfit(Surv(OS, death)~Underlying_lung, data=lungSCC)
library(tidyverse)
library(survival)
library(survminer)
# Check data types only columns we want to work with
# Set default as c for the rest
lungSCC_raw <- read_csv("LungCancer.csv",
col_types=cols(Sex='c',
Age='d',
Location='d',
Obst_pn_or_plugging='d',
Necrosis='d',
Underlying_lung='d',
Effusion='d',
LN_ratio='d',
cT='d',
cN='d',
cM='d',
pT='d',
pN='d',
pM='d',
Smoking_state='d',
FEV1_FVC='d',
CEA='d',
op_type='d',
death='d',
meta='d',
OS = "d",
.default = 'c'))
dim(lungSCC_raw)  # Check total patients + columns
# Radiologic features
table(lungSCC_raw$Location, useNA="always")
table(lungSCC_raw$Obst_pn_or_plugging, useNA="always")
table(lungSCC_raw$Necrosis, useNA="always")
table(lungSCC_raw$Underlying_lung, useNA="always")
table(lungSCC_raw$Effusion, useNA="always")
# Clinicopathologic features
table(lungSCC_raw$Sex, useNA="always")
table(lungSCC_raw$Age, useNA="always")
summary(lungSCC_raw$Age)
table(lungSCC_raw$LN_ratio, useNA="always")
summary(lungSCC_raw$LN_ratio)
table(lungSCC_raw$cT, useNA="always")
table(lungSCC_raw$cN, useNA="always")
table(lungSCC_raw$cM, useNA="always")
table(lungSCC_raw$pT, useNA="always")
table(lungSCC_raw$pN, useNA="always")
table(lungSCC_raw$pM, useNA="always")
table(lungSCC_raw$Smoking_state, useNA="always")
table(lungSCC_raw$FEV1_FVC, useNA="always")
summary(lungSCC_raw$FEV1_FVC)
table(lungSCC_raw$CEA)
summary(lungSCC_raw$CEA)
table(lungSCC_raw$op_type, useNA="always")
table(lungSCC_raw$death, useNA="always")
table(lungSCC_raw$meta, useNA="always")
table(lungSCC_raw$OS, useNA="always")
summary(lungSCC_raw$OS)
lungSCC <- mutate(lungSCC_raw,
Location=ifelse(Location==0, "Peripheral","Central"),
Necrosis=ifelse(Necrosis==0, "NoRemark",
ifelse(Necrosis==1, "Necrosis", "Cavitization")),
Underlying_lung=ifelse(Underlying_lung==0, "NoRemark",
ifelse(Underlying_lung==1, "Emphysema", "ILA")),
Effusion=factor(Effusion, levels=c("0", "1"), labels=c("Absent", "Present")),
AG=ifelse((Age<60), "LT60", "OV60"),
AG = factor(AG),
OP = factor(op_type,labels = c("lobectomy","pneumonectomy","segmentectomy","LN biopsy","No OP")),
Smoking_state = factor(Smoking_state,labels = c("unknown","current-smoker","ex- smoker", "non- smoker")),
cT = factor(cT, levels = c("1", "2", "3", "4"), labels = c("cT1", "cT2", "cT3", "cT4")),
cN = factor(cN, levels = c("1", "2", "3", "4"), labels = c("cN0", "cN1", "cN2", "cN3")),
cM = factor(cM, levels = c("1", "3"), labels = c("cM0", "cM1b")),
pT = factor(pT, levels = c("1", "2", "3", "4"), labels = c("pT1", "pT2", "pT3", "pT4")),
pN = factor(pN, levels = c("1", "2", "3", "4"), labels = c("pN0", "pN1", "pN2", "pN3")),
pM = factor(pM, levels = c("1", "3"), labels = c("pM0", "pM1b")))
fit.KM_under <- survfit(Surv(OS, death)~Underlying_lung, data=lungSCC)
fit.KM_under
ggsurvplot(fit.KM_under,
legend = "bottom",
conf.int = TRUE,
linetype = "strata",
legend.title = "Underlying lung disease",
xlab = "Months",
ylab = "Survival probability")
fit.KM_pT <- survfit(Surv(OS, death)~pT, data=lungSCC)
fit.KM_pT
ggsurvplot(fit.KM_pT,
legend = "bottom",
conf.int = TRUE,
linetype = "strata",
legend.title = "Peripheral Lung SCC size of Tumor",
xlab = "Months",
ylab = "Survival probability")
fit.KM_pN <- survfit(Surv(OS, death)~pN, data=lungSCC)
fit.KM_pN
ggsurvplot(fit.KM_pN,
legend = "bottom",
conf.int = TRUE,
linetype = "strata",
legend.title = "pN when nearby lymph nodes are involved",
xlab = "Months",
ylab = "Survival probability")
fit.KM_pM <- survfit(Surv(OS, death)~pM, data=lungSCC)
fit.KM_pM
ggsurvplot(fit.KM_pM,
legend = "bottom",
conf.int = TRUE,
linetype = "strata",
legend.title = "pM when distant metastasis are involved",
xlab = "Months",
ylab = "Survival probability")
fit.KM_meta <- survfit(Surv(OS, death)~meta, data=lungSCC)
fit.KM_meta
ggsurvplot(fit.KM_meta,
legend = "bottom",
conf.int = TRUE,
linetype = "strata",
legend.title = "Observation of metastasis",
xlab = "Months",
ylab = "Survival probability")
fit_effusion <- coxph(Surv(OS, death)~Effusion, data=lungSCC)
summary(fit_effusion)
confint(fit_effusion)
